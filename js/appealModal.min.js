const openAppealButton=document.querySelector(".contacts-button"),appealModal=document.querySelector(".modal.appeal"),appealForm=appealModal.querySelector(".appeal-form"),appealName=appealForm.querySelector('[name="appeal-name"]'),appealEmail=appealForm.querySelector('[name="appeal-email"]'),appealText=appealForm.querySelector('[name="appeal-text"]'),closeAppealButton=appealModal.querySelector(".appeal-close");let isStorageSupport=!0,nameFromStorage="",emailFromStorage="";try{nameFromStorage=localStorage.getItem("name"),emailFromStorage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}openAppealButton.addEventListener("click",function(e){e.preventDefault(),appealModal.classList.add("modal-show"),nameFromStorage?(appealName.value=localStorage.getItem("name"),emailFromStorage?(appealEmail.value=localStorage.getItem("email"),appealText.focus()):appealEmail.focus()):appealName.focus()}),appealForm.addEventListener("submit",function(e){appealName.value&&appealEmail.value&&appealText.value?isStorageSupport&&(localStorage.setItem("name",appealName.value),localStorage.setItem("email",appealEmail.value)):(e.preventDefault(),appealModal.classList.remove("modal-error"),appealModal.offsetWidth=appealModal.offsetWidth,appealModal.classList.add("modal-error"))}),closeAppealButton.addEventListener("click",function(){appealModal.classList.remove("modal-show"),appealModal.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){"Escape"===e.code&&(appealModal.classList.remove("modal-show"),appealModal.classList.remove("modal-error"))});